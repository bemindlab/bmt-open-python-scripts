# โครงสร้างโปรเจค

BMT Open Python Scripts จัดระเบียบเป็นแพ็คเกจ Python มาตรฐานด้วยโครงสร้างดังนี้:

## การจัดระเบียบไดเรกทอรี

```
bmt-scripts/
├── src/                        # โค้ดหลักของแพ็คเกจ
│   ├── __init__.py             # ไฟล์มาร์คเกอร์แพ็คเกจหลัก
│   ├── bmt_libs/               # โมดูลไลบรารี (ใช้งานภายใน)
│   │   ├── __init__.py
│   │   ├── agents/             # การใช้งาน Agents
│   │   │   └── autogen/        # ไลบรารี Microsoft AutoGen
│   │   │       ├── __init__.py
│   │   │       └── core.py
│   │   └── hardware/           # ไลบรารีสำหรับเข้าถึงฮาร์ดแวร์
│   │       ├── __init__.py
│   │       ├── camera.py       # ยูทิลิตี้กล้อง
│   │       └── screen.py       # ยูทิลิตี้หน้าจอ
│   └── bmt_scripts/            # โมดูลสคริปต์ที่สามารถรันได้
│       ├── __init__.py         # การเริ่มต้นแพ็คเกจ
│       ├── _version.py         # ข้อมูลเวอร์ชันที่สร้างขึ้น
│       ├── cli.py              # หน้าต่างการทำงานผ่านคำสั่ง
│       ├── main.py             # จุดเริ่มต้นหลัก
│       ├── config/             # การจัดการการตั้งค่า
│       │   ├── __init__.py
│       │   └── settings.py
│       ├── hardware/           # สคริปต์ฮาร์ดแวร์
│       │   ├── __init__.py
│       │   └── screen_capture.py # ยูทิลิตี้การจับภาพหน้าจอ
│       ├── webcam/             # ฟังก์ชันการทำงานของเว็บแคม
│       │   ├── __init__.py
│       │   ├── capture.py
│       │   └── ...
│       ├── git/                # ยูทิลิตี้ Git
│       │   ├── __init__.py
│       │   └── commit_summary.py
│       ├── plugins/            # ระบบ Plugin
│       │   ├── README.md
│       │   ├── plugin_manager.py
│       │   └── example/
│       └── agents/             # สคริปต์ AI agent
│           ├── autogen_code.py
│           ├── autogen_example.py
│           └── mockup.py
├── tests/                      # ไฟล์ทดสอบ
│   ├── __init__.py
│   └── ...
├── docs/                       # เอกสาร
├── pyproject.toml              # การตั้งค่าและข้อมูลเมตาของโปรเจค
└── README.md
```

## การจัดระเบียบแพ็คเกจ

โปรเจคนี้เป็นไปตามโครงสร้างแพ็คเกจ Python มาตรฐานโดยแยกความรับผิดชอบ:

1. **แพ็คเกจไลบรารี (`src/bmt_libs/`)**: ประกอบด้วยโค้ดที่นำกลับมาใช้ใหม่และฟังก์ชันการทำงานที่ใช้ร่วมกัน:
   - `agents/autogen/`: ไลบรารีและการใช้งาน Agent หลัก
   - `hardware/`: โมดูลการโต้ตอบกับฮาร์ดแวร์หลัก
     - `camera.py`: ฟังก์ชันการทำงานของกล้อง
     - `screen.py`: ฟังก์ชันการทำงานของหน้าจอ

2. **แพ็คเกจสคริปต์ (`src/bmt_scripts/`)**: ประกอบด้วยสคริปต์ที่สามารถรันได้ซึ่งใช้ไลบรารี:
   - `cli.py`: ให้อินเตอร์เฟซแบบรวมเพื่อเข้าถึงฟังก์ชันการทำงานทั้งหมดผ่านคำสั่ง `bmtlab`
   - `main.py`: จุดเริ่มต้นหลักสำหรับการรันสคริปต์
   - แพ็คเกจย่อยตามโดเมน:
     - `webcam/`: เครื่องมือเว็บแคมที่ใช้ bmt_libs.hardware.camera
     - `git/`: ยูทิลิตี้ที่เกี่ยวข้องกับ Git
     - `agents/`: สคริปต์ AI agent ที่ใช้ bmt_libs.agents.autogen
     - `hardware/`: สคริปต์ฮาร์ดแวร์ที่ใช้ bmt_libs.hardware
     - `config/`: การจัดการการตั้งค่า
     - `plugins/`: ระบบ Plugin สำหรับการขยายความสามารถ

## การติดตั้ง

สามารถติดตั้งแพ็คเกจในโหมดการพัฒนาได้:

```bash
pip install -e .
```

หรือติดตั้งพร้อมกับแพ็คเกจเสริม:

```bash
pip install -e ".[agents]"     # ติดตั้งพร้อมกับแพ็คเกจเสริมสำหรับ AI agent
pip install -e ".[hardware]"   # ติดตั้งพร้อมกับแพ็คเกจเสริมสำหรับฮาร์ดแวร์
pip install -e ".[dev]"        # ติดตั้งพร้อมกับแพ็คเกจเสริมสำหรับการพัฒนา
pip install -e ".[all]"        # ติดตั้งพร้อมกับแพ็คเกจเสริมทั้งหมด
```

## การใช้งาน

หลังจากติดตั้งแล้ว คุณสามารถใช้แพ็คเกจได้สองวิธี:

1. **หน้าต่างการทำงานผ่านคำสั่ง**:
   ```bash
   bmtlab webcam show --camera-id 0
   bmtlab git commit-summary
   ```

2. **ใช้เป็นไลบรารี Python**:
   ```python
   # ใช้โมดูลสคริปต์
   from bmt_scripts.webcam import show_camera

   show_camera(camera_id=0)

   # ใช้โมดูลไลบรารี
   from bmt_libs.hardware.camera import Camera

   camera = Camera(camera_id=0)
   frame = camera.capture_frame()
   ```

## การจัดการการพึ่งพา

การจัดการการพึ่งพาทำใน `pyproject.toml`:

- การพึ่งพาหลัก: จำเป็นสำหรับฟังก์ชันการทำงานพื้นฐาน
- การพึ่งพาเสริม:
  - `agents`: สำหรับฟังก์ชันการทำงานของ AI agent
  - `dev`: สำหรับการพัฒนาและการทดสอบ

## การตั้งค่า

การตั้งค่าจัดการผ่าน `config/settings.py` และให้:

- การตั้งค่าตามโดเมน (webcam, git, agents)
- การจัดการตัวแปรสภาพแวดล้อม
- การตรวจสอบความถูกต้องของการตั้งค่า

## การทดสอบ

การทดสอบจัดระเบียบในไดเรกทอรี `tests/` และสามารถรันได้ด้วย:

```bash
pytest
```
